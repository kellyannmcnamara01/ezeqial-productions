{% extends "layouts/_layout" %}

{% block content %}
	<div class="wrapper">
		<section id="contact" class="wrap-content">
			{% if entry.outlineHeading|length %}<span class="veritcal-outlined-text">{{ entry.outlineHeading }}</span>{% endif %}
			
			<section id="contact-content" class="page-content">
				<h1 class="heading-one">{{ entry.title }}</h1>

				<div class="contact">
					<div class="contact__form">
						{% macro errorList(errors) %}
						    {% if errors %}
						        <ul class="errors">
						            {% for error in errors %}
						                <li>{{ error }}</li>
						            {% endfor %}
						        </ul>
						    {% endif %}
						{% endmacro %}

						{% from _self import errorList %}

						<form method="post" action="" accept-charset="UTF-8">
						    {{ csrfInput() }}
						    <input type="hidden" name="action" value="contact-form/send">
						    {{ redirectInput('contact/thank-you') }}

						    <div class="form-field half">
							    <h3><label for="first-name">First Name</label></h3>
							    <input id="first-name" type="text" name="firstName" value="{{ message.firstName ?? '' }}">
							    {{ message is defined and message ? errorList(message.getErrors('firstName')) }}
							</div>
							<div class="form-field half">
							    <h3><label for="last-name">Last Name</label></h3>
							    <input id="last-name" type="text" name="lastName" value="{{ message.lastName ?? '' }}">
							    {{ message is defined and message ? errorList(message.getErrors('lastName')) }}
							</div>
						    <div class="form-field half">
							    <h3><label for="from-email">Email</label></h3>
							    <input id="from-email" type="email" name="fromEmail" value="{{ message.fromEmail ?? '' }}">
							    {{ message is defined and message ? errorList(message.getErrors('fromEmail')) }}
							</div>
						    <div class="form-field half">
							    <h3><label for="from-phone">Phone</label></h3>
							    <input id="from-phone" type="tel" name="fromPhone" value="{{ message.fromPhone ?? '' }}">
							    {{ message is defined and message ? errorList(message.getErrors('fromPhone')) }}
							</div>
						    <div class="form-field half">
							    <h3><label for="company">Company</label></h3>
							    <input id="company" type="text" name="company" value="{{ message.company ?? '' }}">
							    {{ message is defined and message ? errorList(message.getErrors('company')) }}
							</div>
						    <div class="form-field half">
						    	<h3><label for="project-name">Project Name</label></h3>
						    	<input id="project-name" type="text" name="projectName" value="{{ message.projectName ?? '' }}">
						    	{{ message is defined and message ? errorList(message.getErrors('projectName')) }}
							</div>
						    <div class="form-field">
							    <h3><label for="message">Message</label></h3>
							    <textarea rows="3" cols="40" id="message" name="message">{{ message.message ?? '' }}</textarea>
							    {{ message is defined and message ? errorList(message.getErrors('message')) }}
							</div>
						    <input type="submit" value="Send">
						</form>
					</div>
					<div class="contact__sidebar">
						{% if entry.rightColumn|length %}{{ entry.rightColumn }}{% endif %}
					</div>
				</div>
			</section>
		</section>


		{% if craft.app.session.hasFlash('notice') %}
		    <p class="message notice">{{ craft.app.session.getFlash('notice') }}</p>
		{% elseif craft.app.session.hasFlash('error') %}
		    <p class="message error">{{ craft.app.session.getFlash('error') }}</p>
		{% endif %}
	</div>
{% endblock %}